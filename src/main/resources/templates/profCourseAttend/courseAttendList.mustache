<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>출석 관리 - {{weekNo}}주차</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-gray-50 text-gray-800">

    {{> profLayout/profHeader }}

    <main class="max-w-6xl mx-auto px-4 py-8">

        <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-200">

            <h2 class="text-2xl font-bold mb-6">
                출석 관리 – {{weekNo}}주차
            </h2>

            <form action="/saveCourseAttendList" method="post">

                <input type="hidden" name="courseNo" value="{{courseNo}}">
                <input type="hidden" name="weekNo" value="{{weekNo}}">

                <table class="min-w-full border divide-y divide-gray-200 text-sm">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="px-4 py-2">이름</th>
                            <th class="px-4 py-2">학번</th>
                            <th class="px-4 py-2">학과</th>
                            <th class="px-4 py-2">연락처</th>
                            <th class="px-4 py-2 text-center">출석 상태</th>
                        </tr>
                    </thead>

                    <tbody>
				        {{#list}}
				        <tr>
				            <td class="px-4 py-2">{{studentName}}</td>
				            <td class="px-4 py-2">{{studentId}}</td>
				            <td class="px-4 py-2">{{deptName}}</td>
				            <td class="px-4 py-2">{{studentPhone}}</td>
				
				            <!-- ⭐⭐ 여기가 바로 라디오 버튼 넣는 자리 ⭐⭐ -->
				            <td class="px-4 py-2 text-center">
				
				                <!-- hidden: studentUserNo -->
				                <input type="hidden" name="studentUserNo" value="{{studentUserNo}}">
				
				                <label class="mr-3">
								    <input type="radio"
								           name="attendanceStatus_{{studentUserNo}}"
								           value="0"
								           {{#isAttend}}checked{{/isAttend}}>
								    출석
								</label>
								
								<label class="mr-3">
								    <input type="radio"
								           name="attendanceStatus_{{studentUserNo}}"
								           value="1"
								           {{#isAbsent}}checked{{/isAbsent}}>
								    결석
								</label>
								
								<label>
								    <input type="radio"
								           name="attendanceStatus_{{studentUserNo}}"
								           value="2"
								           {{#isLate}}checked{{/isLate}}>
								    지각
								</label>

				            </td>
				        </tr>
				        {{/list}}

                        {{^list}}
                        <tr>
                            <td colspan="7" class="px-4 py-4 text-center text-gray-500">
                                수강 중인 학생이 없습니다.
                            </td>
                        </tr>
                        {{/list}}
                    </tbody>
                </table>

                <!-- 저장 버튼 -->
                <div class="mt-6 text-center">
                    <button type="submit"
                            class="px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow">
                        출석 저장
                    </button>

                    <a href="/courseAttendWeekList?courseNo={{courseNo}}"
                       class="px-4 py-3 ml-3 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700">
                        주차 목록으로
                    </a>
                </div>

            </form>

        </div>

    </main>

    {{> profLayout/profFooter }}

</body>
</html>
