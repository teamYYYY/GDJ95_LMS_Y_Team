<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê³¼ì œ ìƒì„¸ | í•™ì‚¬ê´€ë¦¬ì‹œìŠ¤í…œ</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pretendard/dist/web/static/pretendard.css" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <style>
        body { font-family: 'Pretendard', sans-serif; }
    </style>
</head>

<body class="bg-[#F5F7FA] text-gray-800">

{{> studentLayout/studentHeader }}
{{> studentCourse/_studentCourseSubNav }}
    
	<!-- ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ -->
    <div class="mt-10 flex justify-center">
        <a href="/student/assignment/list?courseNo={{assignment.courseNo}}"
           class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg
                  bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium
                  transition">
            <i class="fa-solid fa-arrow-left"></i>
            ê³¼ì œ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        </a>
    </div>
<main class="max-w-4xl mx-auto px-4 py-10">

    <!-- ================================================================= -->
    <!-- ğŸ“Œ ê³¼ì œ ì •ë³´ ì˜ì—­ -->
    <!-- ================================================================= -->
    <div class="bg-white rounded-xl shadow-md p-8 mb-10 border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">
            {{assignment.assignmentTitle}}
        </h2>

        <p class="text-gray-600 whitespace-pre-line mb-6">
            {{assignment.assignmentDescription}}
        </p>

        <div class="flex items-center gap-3 text-sm text-gray-700 mb-3">
            <span class="font-semibold">ë§ˆê°ì¼ :</span>
            <span>{{assignment.assignmentDeadline}}</span>
        </div>

        <!-- ì œì¶œ ìƒíƒœ -->
        {{#assignment.submitted}}
            <div class="text-sm text-green-600 font-medium mb-3">
                âœ” ì´ë¯¸ ì œì¶œí–ˆìŠµë‹ˆë‹¤ ({{assignment.submittedDate}})
            </div>

            {{#assignment.assignmentSubmissionFileUrl}}
            <div class="text-sm">
                ì œì¶œ íŒŒì¼ :
                <a href="{{assignment.assignmentSubmissionFileUrl}}"
                   class="text-blue-600 underline ml-1" target="_blank">
                    íŒŒì¼ ì—´ê¸°
                </a>
            </div>
            {{/assignment.assignmentSubmissionFileUrl}}
        {{/assignment.submitted}}

        {{^assignment.submitted}}
            <div class="text-sm text-red-600 font-medium">
                âœ˜ ì•„ì§ ì œì¶œí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤
            </div>
        {{/assignment.submitted}}
    </div>


    <!-- ================================================================= -->
    <!-- ğŸ“Œ ì œì¶œ/ìˆ˜ì • ì˜ì—­ â€” ë§ˆê° ì—¬ë¶€ì— ë”°ë¼ ìë™ ì œì–´ -->
    <!-- ================================================================= -->

    {{#assignment.deadlinePassed}}
    <!-- ë§ˆê° ì§€ë‚œ ê²½ìš°: ìˆ˜ì •/ì œì¶œ ë¶ˆê°€ ë©”ì‹œì§€ í‘œì‹œ -->
    <div class="bg-white rounded-xl shadow-md p-8 border border-gray-200 text-center">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">ì œì¶œ ê¸°ê°„ì´ ë§ˆê°ë˜ì—ˆìŠµë‹ˆë‹¤</h3>
        <p class="text-gray-600 mb-4">
            ë§ˆê°ì¼ ì´í›„ì—ëŠ” ê³¼ì œë¥¼ ì œì¶œí•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        </p>
    </div>
    {{/assignment.deadlinePassed}}


    {{^assignment.deadlinePassed}}
    <!-- ë§ˆê° ì „: ì œì¶œ/ìˆ˜ì • ê°€ëŠ¥ -->
    <div class="bg-white rounded-xl shadow-md p-8 border border-gray-200">

        <h3 class="text-xl font-semibold text-gray-800 mb-6">
            {{#assignment.submitted}}ê³¼ì œ ìˆ˜ì •í•˜ê¸°{{/assignment.submitted}}
            {{^assignment.submitted}}ê³¼ì œ ì œì¶œí•˜ê¸°{{/assignment.submitted}}
        </h3>

        <form action="/student/assignment/submit" method="post"
              enctype="multipart/form-data" class="space-y-6">

            <input type="hidden" name="assignmentNo" value="{{assignment.assignmentNo}}">
            <input type="hidden" name="courseNo" value="{{assignment.courseNo}}">

            <!-- ë‚´ìš© ì…ë ¥ -->
            <div>
                <label class="block font-medium text-gray-700 mb-2">ë‚´ìš©</label>
                <textarea name="content"
                          class="w-full border border-gray-300 rounded-lg p-3 h-40
                                 focus:ring-2 focus:ring-blue-400 focus:outline-none"
                          placeholder="ì—¬ê¸°ì— ê³¼ì œ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”">{{assignment.assignmentSubmissionContent}}</textarea>
            </div>

            <!-- íŒŒì¼ ì—…ë¡œë“œ -->
            <div>
                <label class="block font-medium text-gray-700 mb-2">íŒŒì¼ ì—…ë¡œë“œ</label>

                <input type="file" name="file"
                       class="block w-full text-sm text-gray-700 border border-gray-300 rounded-lg p-2">

                {{#assignment.assignmentSubmissionFileUrl}}
                <div class="mt-2 text-sm">
                    í˜„ì¬ íŒŒì¼ :
                    <a href="{{assignment.assignmentSubmissionFileUrl}}" target="_blank"
                       class="text-blue-600 underline ml-1">
                        ê¸°ì¡´ ì œì¶œ íŒŒì¼ ë³´ê¸°
                    </a>
                </div>
                {{/assignment.assignmentSubmissionFileUrl}}
            </div>

            <!-- ì œì¶œ ë²„íŠ¼ -->
            <button type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg
                           font-semibold transition">
                {{#assignment.submitted}}ìˆ˜ì •í•˜ê¸°{{/assignment.submitted}}
                {{^assignment.submitted}}ì œì¶œí•˜ê¸°{{/assignment.submitted}}
            </button>

        </form>

    </div>
    {{/assignment.deadlinePassed}}

</main>
</body>
</html>
