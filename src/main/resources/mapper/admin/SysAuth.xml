<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.lms.mapper.admin.SysAuthMapper">

	<!-- 2025. 11. 26. JM. 권한관리 - 사용자 권한 전체 리스트 조회 -->
	<select id="sysAuthAllList" resultType="com.example.lms.dto.SysAuthDTO">
	
		SELECT
			a.auth_detail_code AS authDetailCode,
			a.auth_detail_name AS authDetailName,
			a.auth_code AS authCode,
			b.auth_name AS authName,
			a.auth_detail_createdate AS authDetailCreatedate,
			b.auth_createdate AS authCreatedate
		FROM
			tb_sysauth_detail a
		INNER JOIN tb_sysauth b ON
			a.auth_code = b.auth_code
	
	</select>
	
	<!-- 2025. 11. 27. JM. 권한관리 - 사용자 권한 리스트 조회 -->
	<select id="sysAuthList" resultType="com.example.lms.dto.SysAuthDTO">
	
		SELECT
			auth_code AS authCode,
			auth_name AS authName,
			auth_createdate AS auth_createdate
		FROM
			tb_sysauth
	
	</select>
	
	<!-- 2025. 11. 27. JM. 권한관리 - 사용자 세부권한 리스트 조회 -->
	<select id="sysAuthDetailList" resultType="com.example.lms.dto.SysAuthDTO">
	
		SELECT
			auth_detail_code AS authDetailCode,
			auth_detail_name AS authDetailName,
			auth_code AS authCode,
			auth_detail_createdate AS authDetailCreatedate
		FROM
			tb_sysauth_detail
	
	</select>
	
	<!-- 2025. 11. 27. JM. 권한관리 - 특정 사용자 권한의 세부권한 리스트 조회 -->
	<select id="seletcAuthCodesysAuthDetailList" resultType="com.example.lms.dto.SysAuthDTO">
	
		SELECT
			auth_detail_code AS authDetailCode,
			auth_detail_name AS authDetailName,
			auth_code AS authCode,
			auth_detail_createdate AS authDetailCreatedate
		FROM
			tb_sysauth_detail
		WHERE auth_code = #{authCode}
	
	</select>

</mapper>